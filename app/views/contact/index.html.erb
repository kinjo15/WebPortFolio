<!DOCTYPE html>
<html lang="ja">
<head>
    <title>CONTACT</title>
    <link rel="stylesheet" href="/assets/home.css">
</head>
<body>
    <%= render 'layouts/header' %>
    <div class="wrapper1">
    <div class="wrapper2">
    <%= form_with model:@contact, url: {action: 'confirm'}, local:true, data: { turbo: false } do |f| %>
        <div class="input_fields">
            <div class="input_field">
                <label class="field-name"><span class="required">必須</span>名前</label>
                <%= f.text_field :name %>
                <% if @contact.errors.include?(:name) %>
                    <div style="color: red;"><%= @contact.errors.messages[:name].first %></div>
                <% end %>
            </div>
            <div class="input_field">
                <label class="field-name"><span class="required">必須</span>メールアドレス</label>
                <%= f.text_field :email %>
                <% if @contact.errors.include?(:email) %>
                    <div style="color: red;"><%= @contact.errors.messages[:email].first %></div>
                <% end %>
            </div>
            <div class="input_field">
                <label class="field-name">メッセージ</label>
                <%= f.text_area :message, style: "resize: none; height: 320px; overflow: auto;" %>
            </div>

            <%= f.submit '確認', class: "contact-button" %>
        </div>  
        
    <% end %>
    </div>
    </div>
    <%= render 'layouts/footer' %>
    <script type="text/javascript" src="/assets/home.js"></script>
</body>
<script>
    //バックで戻った時にリロード
    window.addEventListener('pageshow', function(event){
        if(event.persisted)
        {
            window.location.reload();
        }
    });
</script>
</html>